export interface PostPromptInput {
  platform:
    | 'Instagram'
    | 'Telegram'
    | 'LinkedIn'
    | 'VK'
    | 'TikTok'
    | 'Facebook'
    | 'X'
    | 'Other';
  postType: 'Личный' | 'Реклама' | 'Обучающий' | 'Анонс' | 'Мнение' | 'Подпись';
  mainIdea: string;
  goal:
    | 'Лайки'
    | 'Комментарии'
    | 'Подписки'
    | 'Переход по ссылке'
    | 'Сообщение в ЛС'
    | 'Покупка';
  style:
    | 'дружелюбный'
    | 'экспертный'
    | 'юморной'
    | 'дерзкий'
    | 'вдохновляющий'
    | 'аналитический';
  emotion:
    | 'вдохновение'
    | 'сочувствие'
    | 'вау-эффект'
    | 'провокация'
    | 'задумчивость'
    | 'улыбка';
  keyDetails?: string; // Факты, которые надо вставить
  format: 'короткий' | 'средний' | 'длинный';
  formatting: {
    emoji: boolean;
    hashtags: boolean;
    cta: boolean;
  };
}

export const generatePostPrompt = (input: PostPromptInput): string => {
  const {
    platform,
    postType,
    mainIdea,
    goal,
    style,
    emotion,
    keyDetails,
    format,
    formatting,
  } = input;

  return `
Ты опытный копирайтер, который пишет вирусные и вовлекающие посты для соцсетей. 
На основе вводных данных от пользователя сгенерируй текст поста, идеально подходящий для выбранной платформы.

Вводные данные:
- Платформа: ${platform}
- Тип поста: ${postType}
- Основной посыл: ${mainIdea}
- Цель поста: ${goal}
- Стиль: ${style}
- Эмоция: ${emotion}
- Ключевые детали: ${keyDetails || '—'}
- Формат: ${format}
- Оформление:
  - Эмодзи: ${formatting.emoji ? 'да' : 'нет'}
  - Хэштеги: ${formatting.hashtags ? 'да' : 'нет'}
  - Призыв к действию: ${formatting.cta ? 'да' : 'нет'}

Сгенерируй готовый текст поста:
- Начни с захватывающей первой фразы (крючка).
- Раскрой основную идею в заданном стиле и настроении.
- Обязательно добавь призыв к действию, соответствующий цели поста.
- Эмодзи используй, если указано, уместно и ненавязчиво.
- Хэштеги — до 5, только если указано.
- Выводи только чистый текст поста без пояснений.
  `.trim();
};
